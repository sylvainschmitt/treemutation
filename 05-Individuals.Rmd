```{r setupindividuals, include=FALSE}
rm(list = ls()) ; invisible(gc()) ; set.seed(42)
library(knitr)
library(kableExtra)
if(knitr:::is_html_output()) options(knitr.table.format = "html") 
if(knitr:::is_latex_output()) options(knitr.table.format = "latex") 
library(tidyverse)
library(raster)
library(leaflet)
library(sf)
library(lidR)
theme_set(bayesplot::theme_default())
opts_chunk$set(
  echo = F, message = F, warning = F, fig.height = 6, fig.width = 8,
  cache = T, cache.lazy = F)
```

# Individuals

This chapter support the choice of individuals for the study.

## *Dicorynia guyanensis*

### Dgui3M P18-2-148

```{r, eval=F, echo=T}
library(lidR)
library(rgl)
las <- readLAS("data/YS-20201123-130625classclipDycorinia.las")
plot(las, bg = "white")
path <- "/home/sylvain/Documents/ECOFOG/treemutation/data/YS-20201123-130625classclipDycorinia.gif"
movie3d(spin3d(), duration = 5, movie = path)
```

```{r}
include_graphics("data/YS-20201123-130625classclipDycorinia.gif")
```

```{r, eval=F}
library(lidR)
library(rgl)
las <- readLAS("data/YS-20201123-130625classclipDycorinia.las")
chm <- grid_canopy(las, 1, pitfree(subcircle = 0.2))
algo <- dalponte2016(chm, ttops)
las <- segment_trees(las, algo) # segment point cloud
plot(las, bg = "white", size = 4, color = "treeID") # visualize trees
add_treetops3d(x, ttops)
tree <- filter_poi(las, treeID == 3)
plot(tree, size = 8, bg = "white")
```

